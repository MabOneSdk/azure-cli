interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup azure-wl container show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -v -g
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.17134-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-mgmt-recoveryservicesbackup/0.4.0
        Azure-SDK-For-Python AZURECLI/2.0.65
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.RecoveryServices/vaults/shracsql/backupProtectionContainers?api-version=2016-12-01&$filter=backupManagementType%20eq%20%27AzureWorkload%27%20and%20friendlyName%20eq%20%27shrac3%27%20and%20status%20eq%20%27Registered%27
  response:
    body:
      string: '{"value":[{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.RecoveryServices/vaults/shracsql/backupFabrics/Azure/protectionContainers/VMAppContainer;Compute;shracrg;shrac3","name":"VMAppContainer;Compute;shracrg;shrac3","type":"Microsoft.RecoveryServices/vaults/backupFabrics/protectionContainers","properties":{"sourceResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.Compute/virtualMachines/shrac3","lastUpdatedTime":"2018-11-30T16:56:14.0933848Z","extendedInfo":{"hostServerName":"shrac3","inquiryInfo":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]},"inquiryDetails":[{"type":"SQL","itemCount":698,"inquiryValidation":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]}}}]}},"friendlyName":"shrac3","backupManagementType":"AzureWorkload","registrationStatus":"Registered","healthStatus":"Healthy","containerType":"VMAppContainer","protectableObjectType":"VMAppContainer"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1066'
      content-type:
      - application/json
      date:
      - Fri, 14 Jun 2019 11:15:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup azure-wl container show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -v -g
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.17134-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-mgmt-recoveryservicesbackup/0.4.0
        Azure-SDK-For-Python AZURECLI/2.0.65
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.RecoveryServices/vaults/shracsql/backupProtectionContainers?api-version=2016-12-01&$filter=backupManagementType%20eq%20%27AzureWorkload%27%20and%20status%20eq%20%27Registered%27
  response:
    body:
      string: '{"value":[{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.RecoveryServices/vaults/shracsql/backupFabrics/Azure/protectionContainers/VMAppContainer;Compute;shracrg;shrac","name":"VMAppContainer;Compute;shracrg;shrac","type":"Microsoft.RecoveryServices/vaults/backupFabrics/protectionContainers","properties":{"sourceResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.Compute/virtualMachines/shrac","lastUpdatedTime":"2019-03-12T06:31:45.0950803Z","extendedInfo":{"hostServerName":"shrac","inquiryInfo":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]},"inquiryDetails":[{"type":"SQL","itemCount":153,"inquiryValidation":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]}}}]}},"friendlyName":"shrac","backupManagementType":"AzureWorkload","registrationStatus":"Registered","healthStatus":"Healthy","containerType":"VMAppContainer","protectableObjectType":"VMAppContainer"}},{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.RecoveryServices/vaults/shracsql/backupFabrics/Azure/protectionContainers/VMAppContainer;Compute;shracrg;shrac2","name":"VMAppContainer;Compute;shracrg;shrac2","type":"Microsoft.RecoveryServices/vaults/backupFabrics/protectionContainers","properties":{"sourceResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.Compute/virtualMachines/shrac2","lastUpdatedTime":"2018-11-30T16:50:15.2290004Z","extendedInfo":{"hostServerName":"shrac2","inquiryInfo":{"status":"Success","errorDetail":{"code":"UserErrorOpeningSQLConnection","message":"Azure
        Backup service is not able to connect to the SQL instance.","recommendations":["Please
        refer to the general troubleshooting information about SQL connection failures."]},"inquiryDetails":[{"type":"SQL","itemCount":1,"inquiryValidation":{"status":"Failed","errorDetail":{"code":"UserErrorOpeningSQLConnection","message":"Azure
        Backup service is not able to connect to the SQL instance.","recommendations":["Please
        refer to the general troubleshooting information about SQL connection failures."]}}}]}},"friendlyName":"shrac2","backupManagementType":"AzureWorkload","registrationStatus":"Registered","healthStatus":"Deleted","containerType":"VMAppContainer","protectableObjectType":"VMAppContainer"}},{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.RecoveryServices/vaults/shracsql/backupFabrics/Azure/protectionContainers/VMAppContainer;Compute;shracrg;shrac3","name":"VMAppContainer;Compute;shracrg;shrac3","type":"Microsoft.RecoveryServices/vaults/backupFabrics/protectionContainers","properties":{"sourceResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.Compute/virtualMachines/shrac3","lastUpdatedTime":"2018-11-30T16:56:14.0933848Z","extendedInfo":{"hostServerName":"shrac3","inquiryInfo":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]},"inquiryDetails":[{"type":"SQL","itemCount":698,"inquiryValidation":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]}}}]}},"friendlyName":"shrac3","backupManagementType":"AzureWorkload","registrationStatus":"Registered","healthStatus":"Healthy","containerType":"VMAppContainer","protectableObjectType":"VMAppContainer"}},{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.RecoveryServices/vaults/shracsql/backupFabrics/Azure/protectionContainers/VMAppContainer;Compute;shracrg;shrac4","name":"VMAppContainer;Compute;shracrg;shrac4","type":"Microsoft.RecoveryServices/vaults/backupFabrics/protectionContainers","properties":{"sourceResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.Compute/virtualMachines/shrac4","lastUpdatedTime":"2019-03-27T16:14:26.2437045Z","extendedInfo":{"hostServerName":"shrac4","inquiryInfo":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]},"inquiryDetails":[{"type":"SQL","itemCount":4,"inquiryValidation":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]}}}]}},"friendlyName":"shrac4","backupManagementType":"AzureWorkload","registrationStatus":"Registered","healthStatus":"Healthy","containerType":"VMAppContainer","protectableObjectType":"VMAppContainer"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '4565'
      content-type:
      - application/json
      date:
      - Fri, 14 Jun 2019 11:15:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup azure-wl container list
      Connection:
      - keep-alive
      ParameterSetName:
      - -v -g
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.17134-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-mgmt-recoveryservicesbackup/0.4.0
        Azure-SDK-For-Python AZURECLI/2.0.65
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.RecoveryServices/vaults/shracsql/backupProtectionContainers?api-version=2016-12-01&$filter=backupManagementType%20eq%20%27AzureWorkload%27%20and%20status%20eq%20%27Registered%27
  response:
    body:
      string: '{"value":[{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.RecoveryServices/vaults/shracsql/backupFabrics/Azure/protectionContainers/VMAppContainer;Compute;shracrg;shrac","name":"VMAppContainer;Compute;shracrg;shrac","type":"Microsoft.RecoveryServices/vaults/backupFabrics/protectionContainers","properties":{"sourceResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.Compute/virtualMachines/shrac","lastUpdatedTime":"2019-03-12T06:31:45.0950803Z","extendedInfo":{"hostServerName":"shrac","inquiryInfo":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]},"inquiryDetails":[{"type":"SQL","itemCount":153,"inquiryValidation":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]}}}]}},"friendlyName":"shrac","backupManagementType":"AzureWorkload","registrationStatus":"Registered","healthStatus":"Healthy","containerType":"VMAppContainer","protectableObjectType":"VMAppContainer"}},{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.RecoveryServices/vaults/shracsql/backupFabrics/Azure/protectionContainers/VMAppContainer;Compute;shracrg;shrac2","name":"VMAppContainer;Compute;shracrg;shrac2","type":"Microsoft.RecoveryServices/vaults/backupFabrics/protectionContainers","properties":{"sourceResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.Compute/virtualMachines/shrac2","lastUpdatedTime":"2018-11-30T16:50:15.2290004Z","extendedInfo":{"hostServerName":"shrac2","inquiryInfo":{"status":"Success","errorDetail":{"code":"UserErrorOpeningSQLConnection","message":"Azure
        Backup service is not able to connect to the SQL instance.","recommendations":["Please
        refer to the general troubleshooting information about SQL connection failures."]},"inquiryDetails":[{"type":"SQL","itemCount":1,"inquiryValidation":{"status":"Failed","errorDetail":{"code":"UserErrorOpeningSQLConnection","message":"Azure
        Backup service is not able to connect to the SQL instance.","recommendations":["Please
        refer to the general troubleshooting information about SQL connection failures."]}}}]}},"friendlyName":"shrac2","backupManagementType":"AzureWorkload","registrationStatus":"Registered","healthStatus":"Deleted","containerType":"VMAppContainer","protectableObjectType":"VMAppContainer"}},{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.RecoveryServices/vaults/shracsql/backupFabrics/Azure/protectionContainers/VMAppContainer;Compute;shracrg;shrac3","name":"VMAppContainer;Compute;shracrg;shrac3","type":"Microsoft.RecoveryServices/vaults/backupFabrics/protectionContainers","properties":{"sourceResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.Compute/virtualMachines/shrac3","lastUpdatedTime":"2018-11-30T16:56:14.0933848Z","extendedInfo":{"hostServerName":"shrac3","inquiryInfo":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]},"inquiryDetails":[{"type":"SQL","itemCount":698,"inquiryValidation":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]}}}]}},"friendlyName":"shrac3","backupManagementType":"AzureWorkload","registrationStatus":"Registered","healthStatus":"Healthy","containerType":"VMAppContainer","protectableObjectType":"VMAppContainer"}},{"id":"/Subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.RecoveryServices/vaults/shracsql/backupFabrics/Azure/protectionContainers/VMAppContainer;Compute;shracrg;shrac4","name":"VMAppContainer;Compute;shracrg;shrac4","type":"Microsoft.RecoveryServices/vaults/backupFabrics/protectionContainers","properties":{"sourceResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shracrg/providers/Microsoft.Compute/virtualMachines/shrac4","lastUpdatedTime":"2019-03-27T16:14:26.2437045Z","extendedInfo":{"hostServerName":"shrac4","inquiryInfo":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]},"inquiryDetails":[{"type":"SQL","itemCount":4,"inquiryValidation":{"status":"Success","errorDetail":{"code":"Success","message":"","recommendations":[""]}}}]}},"friendlyName":"shrac4","backupManagementType":"AzureWorkload","registrationStatus":"Registered","healthStatus":"Healthy","containerType":"VMAppContainer","protectableObjectType":"VMAppContainer"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '4565'
      content-type:
      - application/json
      date:
      - Fri, 14 Jun 2019 11:15:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
version: 1
